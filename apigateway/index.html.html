<!DOCTYPE html>

    <link rel="icon" type="image/png"  href="favicon.png">
    <meta charset="utf-8">
    <style> /* set the CSS */
        div {        
            display: list;
            padding: 10px 10px 10px 10px;
        }
    </style>
<body>

<div class="alcolizer"></div>

<script src="https://d3js.org/d3.v4.min.js"></script>

<script type="text/javascript" src="lib/axios/dist/axios.standalone.js"></script>
<script type="text/javascript" src="lib/CryptoJS/rollups/hmac-sha256.js"></script>
<script type="text/javascript" src="lib/CryptoJS/rollups/sha256.js"></script>
<script type="text/javascript" src="lib/CryptoJS/components/hmac.js"></script>
<script type="text/javascript" src="lib/CryptoJS/components/enc-base64.js"></script>
<script type="text/javascript" src="lib/url-template/url-template.js"></script>
<script type="text/javascript" src="lib/apiGatewayCore/sigV4Client.js"></script>
<script type="text/javascript" src="lib/apiGatewayCore/apiGatewayClient.js"></script>
<script type="text/javascript" src="lib/apiGatewayCore/simpleHttpClient.js"></script>
<script type="text/javascript" src="lib/apiGatewayCore/utils.js"></script>
<script type="text/javascript" src="apigClient.js"></script>

<script>

function draw(data){

    var slides = d3.select(".alcolizer")
            .selectAll("image")
            .data( data )
            .enter()
            .append("img")
            .attr("src", function(d){ return d; });
    
    /*var adiv= document.getElementById('alcolizer');
    for (i = 0; i < data.length; i++) {
        let img = document.createElement('img');        
        img.src=data[i];
        aldiv.appendChild(img);
    }
    */
}

function render() {

    const urlParams = new URLSearchParams(window.location.search);
    eventId=urlParams.get('event');

    var apigClient = apigClientFactory.newClient();
    var params = {       
        'event': eventId
    };
    var body = { 
    };

    var additionalParams = {
        headers: {
        },
        queryParams: {
        }
    };

    apigClient.eventEventGet(params, body, additionalParams )
        .then(function(response) {    
            arr= response.data.urls        
            draw(arr) ;                           
        }).catch(function(error) {            
            document.write('Alcolizer photos are not available. They may have been archived or the image retrieval service is unavailable.' );
            document.write('<br><br>'+JSON.stringify(error));
        });
    
}


document.addEventListener("DOMContentLoaded", function(){
   render();
});


</script>
</body>