AWSTemplateFormatVersion: 2010-09-09
Description: >-
  The parameters used by the Alcolizer-Rekognition Serverless Application
Resources:
  DevApplicationRegionParameter:
    Type: AWS::SSM::Parameter
    Properties: 
      Name: /alcolizer-rekognition/dev/dynamoDB/region
      DataType: text
      Description: The region for the Rekognition Collection and DynamboDB tables.                
      Tier: Standard
      Type: String
      Value: ap-southeast-2
  DevApplicationAlcolizerResultsDBTableParameter:
    Type: AWS::SSM::Parameter
    Properties: 
      Name: /alcolizer-rekognition/dev/dynamoDB/breathalyzer-result-table
      DataType: text
      Description: The DynamoDB table for storeing the Alcolizer Readings.
      Tier: Standard
      Type: String
      Value: alcolizer-dev-breathalyzer-results
  DevApplicationRekognitionResultsDBTableParameter:
    Type: AWS::SSM::Parameter
    Properties: 
      Name: /alcolizer-rekognition/dev/dynamoDB/rekognition-result
      DataType: text
      Description: The DynamoDB table for storeing the Rekognition results.
      Tier: Standard
      Type: String
      Value: alcolizer-dev-rekognition-results
  DevApplicationS3BucketParameter:
    Type: AWS::SSM::Parameter
    Properties: 
      Name: /alcolizer-rekognition/dev/s3/bucket
      DataType: text
      Description: The s3 bucket for the Alcolizer - Rekognition app.
      Tier: Standard
      Type: String
      Value: dev-alcolizer-rekognition
  DevApplicationS3FacesKeyParameter:
    Type: AWS::SSM::Parameter
    Properties: 
      Name: /alcolizer-rekognition/dev/s3/facesKey
      DataType: text
      Description: The folder for the faces extracted from the email.
      Tier: Standard
      Type: String
      Value: faces/
  DevApplicationStepFunctionParameter:
    Type: AWS::SSM::Parameter
    Properties: 
      Name: /alcolizer-rekognition/dev/step-function
      DataType: text
      Description: The ARN for the Step Function that orhestrates parsing the email.
      Tier: Standard
      Type: String
      Value: arn:aws:states:ap-southeast-2:317510107845:stateMachine:Alcolizer-Rekognizer-Email-Statemachine-dev
  DevApplicationRekognitionCollectionIdParameter:
    Type: AWS::SSM::Parameter
    Properties: 
      Name: /alcolizer-rekognition/dev/rekognition/collection-id
      DataType: text
      Description: The id of the Rekognition face collection.
      Tier: Standard
      Type: String
      Value: uat-rekognition-collection
  DevApplicationRekognitionCollectionThresholdParameter:
    Type: AWS::SSM::Parameter
    Properties: 
      Name: /alcolizer-rekognition/dev/rekognition/threshold
      DataType: text
      Description: The similalrity threshold for which matched faces are returned.
      Tier: Standard
      Type: String
      Value: 90
  DevApplicationRekognitionCollectionMaxFacesParameter:
    Type: AWS::SSM::Parameter
    Properties: 
      Name: /alcolizer-rekognition/dev/rekognition/maxfaces
      DataType: text
      Description: The maximum number of faces returned by the search_faces_by_image rekognition API .
      Tier: Standard
      Type: String
      Value: 5
  DevApplicationS3OutputKeyParameter:
    Type: AWS::SSM::Parameter
    Properties: 
      Name: /alcolizer-rekognition/dev/s3/outputKey
      DataType: text
      Description: The S3 folder for storing the step function output .
      Tier: Standard
      Type: String
      Value: output/
  DevApplicationS3AttachmentKeyParameter:
    Type: AWS::SSM::Parameter
    Properties: 
      Name: /alcolizer-rekognition/dev/s3/attachmentKey
      DataType: text
      Description: The region for the Rekognition Collection and DynamboDB tables.                
      Tier: Standard
      Type: String
      Value: attachments/
  DevApplicationS3StatusLogKeyParameter:
    Type: AWS::SSM::Parameter
    Properties: 
      Name: /alcolizer-rekognition/dev/s3/statusLogKey
      DataType: text
      Description: The region for the Rekognition Collection and DynamboDB tables.                
      Tier: Standard
      Type: String
      Value: status/
  DevGallagherAuthorizationKeyParameter:
    Type: AWS::SSM::Parameter
    Properties: 
      Name: /alcolizer-rekognition/dev/gallagher/authorizationKey
      DataType: text
      Description: The region for the Rekognition Collection and DynamboDB tables.                
      Tier: Standard
      Type: String
      Value: GGL-API-KEY 17D5-F104-F506-1D37-72AC-B5E6-ACFC-87A2  
  DevGallagherAPIUrlParameter:
    Type: AWS::SSM::Parameter
    Properties: 
      Name: /alcolizer-rekognition/dev/gallagher/API-url 
      DataType: text
      Description: The region for the Rekognition Collection and DynamboDB tables.                
      Tier: Standard
      Type: String
      Value: https://uatgal01.fmguat.local:8904  
  DevNotificationHTMLTemplateParameter:
    Type: AWS::SSM::Parameter
    Properties: 
      Name: /alcolizer-rekognition/dev/s3/email/html-template 
      DataType: text
      Description: The HTML template for a positive results notification.                
      Tier: Standard
      Type: String
      Value: config/positive-result-notification-template.html
